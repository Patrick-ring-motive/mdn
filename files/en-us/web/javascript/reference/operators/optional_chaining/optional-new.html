<p>
  To emulate using optional chaining with the <code>new</code> operator we can use this function <code>newQ</code>. Again I use 'Q' to signify the question mark from <code>?.</code>
</p>
<div class="language-js highlighter-rouge">
    <div class="highlight">
    <pre class="highlight" precode>
<code precode>const newQ = (...args) => {
   const fn = args?.shift?.();
   return fn && new fn(...args);
};

newQ(Intl?.DateTimeFormat);//undefined if the object does not exist

const entries = [["Content-Type","text/html"]];
const headers = newQ(Headers,entries)
             ?? newQ(Map,entries)
             ?? entries.reduce((y, x) => ((y[x[0]] = x[1]), y), {}));</code></pre>
</div>
</div>
<br>
